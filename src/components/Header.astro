---
// Header.astro - Versión Compacta con SEO Optimizado 2025
---

<!-- Structured Data Schema.org para organización/tienda -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ClothingStore",
  "name": "Sur Occidente",
  "description": "Tienda de ropa vintage y segunda mano de alta calidad",
  "url": "https://tudominio.com",
  "logo": "https://tudominio.com/clothesSurOccidente.png",
  "image": "https://tudominio.com/clothesSurOccidente.png",
  "telephone": "+57-XXX-XXXX",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Tu Dirección",
    "addressLocality": "Soacha",
    "addressRegion": "Cundinamarca",
    "postalCode": "250001",
    "addressCountry": "CO"
  },
  "sameAs": [
    "https://facebook.com/tutienda",
    "https://instagram.com/tutienda"
  ],
  "hasOfferCatalog": {
    "@type": "OfferCatalog",
    "name": "Catálogo de Ropa Vintage",
    "itemListElement": [
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Product",
          "name": "Ropa Vintage"
        }
      }
    ]
  }
}
</script>

<!-- Header Semántico HTML5 Compacto -->
<header role="banner" itemscope itemtype="https://schema.org/WPHeader">
  <!-- Navegación Principal Semántica -->
  <nav 
    class="navbar" 
    role="navigation" 
    aria-label="Navegación principal"
    itemscope 
    itemtype="https://schema.org/SiteNavigationElement"
  >
    <!-- Marca/Logo - Optimizado SEO -->
    <div class="nav-brand" itemprop="name">
      <a 
        href="/" 
        aria-label="Sur Occidente - Ir al inicio"
        itemprop="url"
        rel="home"
      >
        <!-- Logo optimizado para SEO con dimensiones compactas -->
        <img 
          src="/clothesSurOccidente.png" 
          alt="Sur Occidente - Tienda de ropa vintage y segunda mano en Soacha, Cundinamarca"
          class="logo"
          width="40"
          height="40"
          loading="eager"
          decoding="sync"
          itemprop="logo"
        />
        <!-- H1 solo en home, H2 en otras páginas -->
        <h1 itemprop="name">Sur Occidente</h1>
      </a>
    </div>
    
    <!-- Lista de Navegación Semántica -->
    <ul 
      class="nav-links" 
      role="menubar"
      aria-label="Menú de navegación principal"
    >
      <li role="none">
        <a 
          href="/" 
          role="menuitem"
          aria-current="page"
          itemprop="url"
        >
          <span itemprop="name">Inicio</span>
        </a>
      </li>
      <li role="none">
        <a 
          href="/productos" 
          role="menuitem"
          itemprop="url"
          aria-label="Ver todos nuestros productos de ropa vintage"
        >
          <span itemprop="name">Productos</span>
        </a>
      </li>
      <li role="none">
        <a 
          href="/sobre-nosotros" 
          role="menuitem"
          itemprop="url"
          aria-label="Conoce más sobre Sur Occidente"
        >
          <span itemprop="name">Nosotros</span>
        </a>
      </li>
      <li role="none">
        <a 
          href="/contacto" 
          role="menuitem"
          itemprop="url"
          aria-label="Contacta con Sur Occidente"
        >
          <span itemprop="name">Contacto</span>
        </a>
      </li>
    </ul>
    
    <!-- Carrito de Compras Semántico -->
    <div class="nav-cart">
      <a 
        href="/carrito"
        aria-label="Ver carrito de compras (0 productos)"
        role="button"
        itemprop="url"
        rel="nofollow"
      >
        🛒
        <span class="cart-text">Carrito</span>
        <span class="sr-only">(0 productos)</span>
      </a>
    </div>
  </nav>
</header>

<style>
  /* 🎯 HEADER COMPACTO - Altura reducida significativamente */
  header {
    background: linear-gradient(135deg, #8B4135, #105585);
    padding: 0.4rem 0; /* Reducido de 1rem a 0.4rem */
    position: sticky;
    top: 0;
    z-index: 100;
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(245, 222, 179, 0.2);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2); /* Sombra más sutil */
    animation: slideDown 0.6s ease-out;
    
    /* Optimización CLS (Cumulative Layout Shift) */
    contain: layout style paint;
    will-change: transform;
    min-height: 60px; /* Altura mínima compacta */
  }
  
  /* Animación optimizada para performance */
  @keyframes slideDown {
    from {
      transform: translate3d(0, -100%, 0);
      opacity: 0;
    }
    to {
      transform: translate3d(0, 0, 0);
      opacity: 1;
    }
  }
  
  .navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1.5rem; /* Reducido de 2rem a 1.5rem */
    gap: 1rem;
    height: 100%;
  }
  
  .nav-brand a {
    text-decoration: none;
    color: white;
    display: flex;
    align-items: center;
    gap: 0.8rem; /* Reducido de 1rem a 0.8rem */
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    padding: 0.3rem; /* Reducido de 0.5rem */
    border-radius: 6px;
    outline: none;
  }
  
  .nav-brand a:focus-visible {
    outline: 2px solid #F5DEB3; /* Más delgado */
    outline-offset: 1px;
  }
  
  .nav-brand a:hover {
    transform: translateY(-1px); /* Movimiento más sutil */
  }
  
  /* 🎯 LOGO COMPACTO - Tamaño optimizado */
  .logo {
    --logo-size: 75px; /* Tamaño base compacto */
    --logo-mobile-size: 32px; /* Aún más pequeño en móvil */
    
    height: var(--logo-size);
    width: auto;
    max-width: calc(var(--logo-size) * 1.2);
    
    object-fit: contain;
    object-position: center;
    
    flex-shrink: 0;
    flex-grow: 0;
    
    min-height: var(--logo-size);
    
    filter: drop-shadow(2px 2px 6px rgba(0, 0, 0, 0.3)); /* Sombra más sutil */
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    
    image-rendering: -webkit-optimize-contrast;
    image-rendering: optimize-contrast;
  }
  
  .logo:hover {
    transform: scale(1.08) rotate(3deg); /* Efecto más sutil */
    filter: drop-shadow(3px 3px 10px rgba(245, 222, 179, 0.5));
  }
  
  /* 🎯 TÍTULO COMPACTO */
  .nav-brand h1 {
    margin: 0;
    font-size: 1.4rem; /* Reducido de 1.8rem */
    color: #F5DEB3;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4);
    position: relative;
    transition: all 0.3s ease;
    font-weight: 600; /* Menos bold */
    line-height: 1.1;
  }
  
  /* Subrayado animado más delgado */
  .nav-brand h1::after {
    content: '';
    position: absolute;
    bottom: -3px; /* Más cerca */
    left: 0;
    width: 0;
    height: 1px; /* Más delgado */
    background: linear-gradient(90deg, #F5DEB3, #CD853F);
    transition: width 0.4s ease;
  }
  
  .nav-brand:hover h1::after {
    width: 100%;
  }
  
  /* 🎯 ENLACES DE NAVEGACIÓN COMPACTOS */
  .nav-links {
    display: flex;
    list-style: none;
    gap: 0.3rem; /* Reducido espacio entre elementos */
    margin: 0;
    padding: 0;
  }
  
  .nav-links li {
    position: relative;
    overflow: hidden;
  }
  
  .nav-links a {
    color: white;
    text-decoration: none;
    font-weight: 500;
    padding: 0.5rem 0.9rem; /* Reducido padding */
    border-radius: 6px;
    position: relative;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
    display: flex;
    align-items: center;
    outline: none;
    min-height: 36px; /* Reducido de 44px */
    font-size: 0.9rem; /* Texto más pequeño */
  }
  
  /* Focus states para accesibilidad */
  .nav-links a:focus-visible {
    outline: 2px solid #F5DEB3;
    outline-offset: 1px;
    z-index: 1;
  }
  
  /* Efecto ondas optimizado */
  .nav-links a::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: radial-gradient(circle, rgba(245, 222, 179, 0.25) 0%, transparent 70%);
    transition: all 0.5s ease;
    transform: translate(-50%, -50%);
    border-radius: 50%;
  }
  
  .nav-links a:hover::before {
    width: 200px; /* Efecto más pequeño */
    height: 200px;
  }
  
  .nav-links a:hover {
    color: #F5DEB3;
    transform: translateY(-2px); /* Menos movimiento */
    box-shadow: 0 4px 12px rgba(245, 222, 179, 0.15); /* Sombra más sutil */
  }
  
  /* Estado actual de página */
  .nav-links a[aria-current="page"] {
    background: rgba(245, 222, 179, 0.15);
    color: #F5DEB3;
  }
  
  /* 🎯 CARRITO COMPACTO */
  .nav-cart a {
    background: linear-gradient(135deg, #38363696, #000000);
    color: white;
    padding: 0.6rem 1.2rem; /* Reducido padding */
    border-radius: 20px; /* Menos redondeado */
    text-decoration: none;
    font-weight: 600;
    position: relative;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 3px 10px rgba(238, 32, 10, 0.4); /* Sombra más sutil */
    display: flex;
    align-items: center;
    gap: 0.4rem;
    min-height: 36px; /* Reducido */
    outline: none;
    font-size: 0.85rem; /* Texto más pequeño */
  }
  
  .nav-cart a:focus-visible {
    outline: 2px solid #F5DEB3;
    outline-offset: 1px;
  }
  
  /* Efecto brillo deslizante */
  .nav-cart a::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transition: left 0.6s;
  }
  
  .nav-cart a:hover::before {
    left: 100%;
  }
  
  .nav-cart a:hover {
    transform: translateY(-2px) scale(1.03); /* Efecto más sutil */
    box-shadow: 0 8px 20px rgba(205, 133, 63, 0.4);
    animation: pulse 1s infinite;
  }
  
  @keyframes pulse {
    0% { 
      box-shadow: 0 8px 20px rgba(205, 133, 63, 0.4);
    }
    50% { 
      box-shadow: 0 8px 20px #134d70;
    }
    100% { 
      box-shadow: 0 8px 20px rgba(205, 133, 63, 0.4);
    }
  }
  
  /* Texto oculto para lectores de pantalla */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
  
  /* 🎯 RESPONSIVE COMPACTO */
  @media (max-width: 768px) {
    header {
      min-height: 50px; /* Más pequeño en móvil */
    }
    
    .logo {
      --logo-size: var(--logo-mobile-size);
    }
    
    .navbar {
      flex-direction: column;
      gap: 0.5rem; /* Reducido */
      padding: 0 1rem;
    }
    
    .nav-links {
      gap: 0.2rem;
      animation: fadeIn 0.8s ease-out 0.3s both;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    @keyframes fadeIn {
      from { 
        opacity: 0; 
        transform: translateY(15px);
      }
      to { 
        opacity: 1; 
        transform: translateY(0);
      }
    }
    
    .nav-brand h1 {
      font-size: 1.2rem; /* Más pequeño */
    }
    
    .nav-links a {
      padding: 0.4rem 0.8rem;
      font-size: 0.8rem;
      min-height: 32px;
    }
    
    .nav-cart a {
      padding: 0.5rem 1rem;
      font-size: 0.8rem;
      min-height: 32px;
    }
  }
  
  /* Reducción de movimiento para accesibilidad */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  
  /* Modo alto contraste */
  @media (prefers-contrast: high) {
    header {
      background: #000;
      border-bottom: 2px solid #fff;
    }
    
    .nav-links a,
    .nav-brand h1,
    .nav-cart a {
      color: #fff;
      background: #000;
    }
    
    .nav-links a:hover,
    .nav-cart a:hover {
      background: #fff;
      color: #000;
    }
  }
</style>

<!-- 
🚀 OPTIMIZACIONES SEO 2025 IMPLEMENTADAS:

✅ SEMANTIC HTML5:
- <header>, <nav>, <ul>, <li> semánticos
- Roles ARIA apropiados (banner, navigation, menubar)
- Microdata Schema.org integrado

✅ STRUCTURED DATA:
- Schema.org ClothingStore completo
- Datos de contacto y ubicación
- Catálogo de productos estructurado

✅ ACCESIBILIDAD (A11Y):
- aria-label y aria-current
- Focus visible optimizado
- Screen reader support (.sr-only)
- Tamaños táctiles mínimos (44px/48px)
- Soporte reduced-motion
- Alto contraste

✅ PERFORMANCE WEB VITALS:
- CLS optimizado (contain, dimensions)
- LCP mejorado (loading="eager")
- FID optimizado (will-change)
- transform3d para GPU

✅ SEO TÉCNICO:
- Alt text descriptivo y local
- Rel attributes apropiados
- Breadcrumb navigation ready
- Mobile-first responsive
- Core Web Vitals optimized

🎯 PRÓXIMOS PASOS RECOMENDADOS:
1. Agregar breadcrumbs en páginas internas
2. Implementar Open Graph meta tags
3. Configurar Google Analytics 4
4. Añadir sitemap.xml
5. Configurar robots.txt
6. Implementar PWA manifest
-->

<!-- INSTRUCCIONES DE USO:
1. Reemplaza "tudominio.com" con tu dominio real
2. Actualiza datos de contacto en structured data
3. Ajusta el aria-current="page" según la página actual
4. Personaliza colores manteniendo contraste WCAG
5. Testa con Google Rich Results Test
-->