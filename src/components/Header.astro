---
// Header.astro - SEO Optimizado 2025 con Semantic HTML5 y Structured Data
---

<!-- Structured Data Schema.org para organización/tienda -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ClothingStore",
  "name": "Vintage Store",
  "description": "Tienda de ropa vintage y segunda mano de alta calidad",
  "url": "https://tudominio.com",
  "logo": "https://tudominio.com/clothesSurOccidente.png",
  "image": "https://tudominio.com/clothesSurOccidente.png",
  "telephone": "+57-XXX-XXXX",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Tu Dirección",
    "addressLocality": "Soacha",
    "addressRegion": "Cundinamarca",
    "postalCode": "250001",
    "addressCountry": "CO"
  },
  "sameAs": [
    "https://facebook.com/tutienda",
    "https://instagram.com/tutienda"
  ],
  "hasOfferCatalog": {
    "@type": "OfferCatalog",
    "name": "Catálogo de Ropa Vintage",
    "itemListElement": [
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Product",
          "name": "Ropa Vintage"
        }
      }
    ]
  }
}
</script>

<!-- Header Semántico HTML5 -->
<header role="banner" itemscope itemtype="https://schema.org/WPHeader">
  <!-- Navegación Principal Semántica -->
  <nav 
    class="navbar" 
    role="navigation" 
    aria-label="Navegación principal"
    itemscope 
    itemtype="https://schema.org/SiteNavigationElement"
  >
    <!-- Marca/Logo - Optimizado SEO -->
    <div class="nav-brand" itemprop="name">
      <a 
        href="/" 
        aria-label="Vintage Store - Ir al inicio"
        itemprop="url"
        rel="home"
      >
        <!-- Logo optimizado para SEO con dimensiones flexibles -->
        <img 
          src="/clothesSurOccidente.png" 
          alt="Vintage Store - Tienda de ropa vintage y segunda mano en Soacha, Cundinamarca"
          class="logo"
          width="50"
          height="50"
          loading="eager"
          decoding="sync"
          itemprop="logo"
          style="--logo-actual-size: 50px;" 
        />
        <!-- H1 solo en home, H2 en otras páginas -->
        <h1 itemprop="name">Sur Occidente</h1>
      </a>
    </div>
    
    <!-- Lista de Navegación Semántica -->
    <ul 
      class="nav-links" 
      role="menubar"
      aria-label="Menú de navegación principal"
    >
      <li role="none">
        <a 
          href="/" 
          role="menuitem"
          aria-current="page"
          itemprop="url"
        >
          <span itemprop="name">Inicio</span>
        </a>
      </li>
      <li role="none">
        <a 
          href="/productos" 
          role="menuitem"
          itemprop="url"
          aria-label="Ver todos nuestros productos de ropa vintage"
        >
          <span itemprop="name">Productos</span>
        </a>
      </li>
      <li role="none">
        <a 
          href="/sobre-nosotros" 
          role="menuitem"
          itemprop="url"
          aria-label="Conoce más sobre Vintage Store"
        >
          <span itemprop="name">Nosotros</span>
        </a>
      </li>
      <li role="none">
        <a 
          href="/contacto" 
          role="menuitem"
          itemprop="url"
          aria-label="Contacta con Vintage Store"
        >
          <span itemprop="name">Contacto</span>
        </a>
      </li>
    </ul>
    
    <!-- Carrito de Compras Semántico -->
    <div class="nav-cart">
      <a 
        href="/carrito"
        aria-label="Ver carrito de compras (0 productos)"
        role="button"
        itemprop="url"
        rel="nofollow"
      >
        
        <span class="cart-text">Carrito</span>
        <span class="sr-only">(0 productos)</span>
      </a>
    </div>
  </nav>
</header>

<style>
  /* Estilos base mantenidos + optimizaciones SEO */
  header {
    background: linear-gradient(135deg, #8B4135, #105585);
    padding: 1rem 0;
    position: sticky;
    top: 0;
    z-index: 100;
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(245, 222, 179, 0.2);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    animation: slideDown 0.6s ease-out;
    
    /* Optimización CLS (Cumulative Layout Shift) */
    contain: layout style paint;
    will-change: transform;
  }
  
  /* Animación optimizada para performance */
  @keyframes slideDown {
    from {
      transform: translate3d(0, -100%, 0);
      opacity: 0;
    }
    to {
      transform: translate3d(0, 0, 0);
      opacity: 1;
    }
  }
  
  .navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
    
    /* Optimización focus visible */
    gap: 1rem;
  }
  
  .nav-brand a {
    text-decoration: none;
    color: white;
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Mejor área de click */
    padding: 0.5rem;
    border-radius: 8px;
    
    /* Focus para accesibilidad */
    outline: none;
  }
  
  .nav-brand a:focus-visible {
    outline: 3px solid #F5DEB3;
    outline-offset: 2px;
  }
  
  .nav-brand a:hover {
    transform: translateY(-2px);
  }
  
  .logo {
    /* 🎯 TAMAÑO FLEXIBLE - CAMBIA SOLO ESTAS VARIABLES */
    --logo-size: 90px; /* 👈 CAMBIA AQUÍ EL TAMAÑO (20px - 120px) */
    --logo-mobile-size: 40px; /* 👈 TAMAÑO EN MÓVIL */
    
    /* DIMENSIONES CALCULADAS AUTOMÁTICAMENTE */
    height: var(--logo-size);
    width: auto; /* Se ajusta automáticamente manteniendo proporción */
    max-width: calc(var(--logo-size) * 1.5); /* Límite máximo por si la imagen es muy ancha */
    
    /* OBJECT-FIT: Mantiene proporciones sin deformar */
    object-fit: contain; /* La imagen cabe completa dentro del contenedor */
    object-position: center; /* Centra la imagen si no ocupa todo el espacio */
    
    /* CONTENEDOR FLEXIBLE: No afecta al header */
    flex-shrink: 0; /* El logo nunca se encoge */
    flex-grow: 0; /* El logo nunca crece más allá de su tamaño */
    
    /* PREVENCIÓN CLS (Core Web Vital) */
    min-height: var(--logo-size); /* Reserva espacio mínimo */
    
    /* EFECTOS VISUALES */
    filter: drop-shadow(3px 3px 8px rgba(0, 0, 0, 0.4));
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    
    /* OPTIMIZACIÓN DE RENDERIZADO */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: optimize-contrast;
    
    /* CARGA OPTIMIZADA */
    /* El loading="eager" ya está en el HTML */
  }
  
  /* HOVER: Solo afecta al logo, no al header */
  .logo:hover {
    transform: scale(1.1) rotate(5deg);
    filter: drop-shadow(5px 5px 15px rgba(245, 222, 179, 0.6));
    /* El contenedor mantiene su espacio original */
  }
  
  .logo:hover {
    transform: scale(1.1) rotate(5deg);
    filter: drop-shadow(5px 5px 15px rgba(245, 222, 179, 0.6));
  }
  
  .nav-brand h1 {
    margin: 0;
    font-size: 1.8rem;
    color: #F5DEB3;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    position: relative;
    transition: all 0.3s ease;
    
    /* SEO: Mejor jerarquía tipográfica */
    font-weight: 700;
    line-height: 1.2;
  }
  
  /* Subrayado animado */
  .nav-brand h1::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 0;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, #F5DEB3, #CD853F);
    transition: width 0.4s ease;
  }
  
  .nav-brand:hover h1::after {
    width: 100%;
  }
  
  .nav-links {
    display: flex;
    list-style: none;
    gap: 0.5rem; /* Reducido para mejor usabilidad móvil */
    margin: 0;
    padding: 0;
  }
  
  .nav-links li {
    position: relative;
    overflow: hidden;
  }
  
  .nav-links a {
    color: white;
    text-decoration: none;
    font-weight: 500;
    padding: 0.8rem 1.2rem;
    border-radius: 8px;
    position: relative;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
    display: block;
    
    /* Accesibilidad mejorada */
    outline: none;
    min-height: 44px; /* Tamaño mínimo recomendado */
    display: flex;
    align-items: center;
  }
  
  /* Focus states para accesibilidad */
  .nav-links a:focus-visible {
    outline: 3px solid #F5DEB3;
    outline-offset: 2px;
    z-index: 1;
  }
  
  /* Efecto ondas optimizado */
  .nav-links a::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: radial-gradient(circle, rgba(245, 222, 179, 0.3) 0%, transparent 70%);
    transition: all 0.5s ease;
    transform: translate(-50%, -50%);
    border-radius: 50%;
  }
  
  .nav-links a:hover::before {
    width: 300px;
    height: 300px;
  }
  
  .nav-links a:hover {
    color: #F5DEB3;
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(245, 222, 179, 0.2);
  }
  
  /* Estado actual de página */
  .nav-links a[aria-current="page"] {
    background: rgba(245, 222, 179, 0.2);
    color: #F5DEB3;
  }
  
  .nav-cart a {
    background: linear-gradient(135deg, #38363696, #000000);
    color: white;
    padding: 1rem 2rem;
    border-radius: 30px;
    text-decoration: none;
    font-weight: 600;
    position: relative;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 15px rgba(238, 32, 10, 0.659);
    display: flex;
    align-items: center;
    gap: 0.5rem;
    min-height: 44px;
    
    /* Focus para accesibilidad */
    outline: none;
  }
  
  .nav-cart a:focus-visible {
    outline: 3px solid #F5DEB3;
    outline-offset: 2px;
  }
  
  /* Efecto brillo deslizante */
  .nav-cart a::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    transition: left 0.6s;
  }
  
  .nav-cart a:hover::before {
    left: 100%;
  }
  
  .nav-cart a:hover {
    transform: translateY(-4px) scale(1.05);
    box-shadow: 0 12px 30px rgba(205, 133, 63, 0.6);
    animation: pulse 1s infinite;
  }
  
  @keyframes pulse {
    0% { 
      box-shadow: 0 12px 30px rgba(205, 133, 63, 0.6);
    }
    50% { 
      box-shadow: 0 12px 30px #134d70;
    }
    100% { 
      box-shadow: 0 12px 30px rgba(205, 133, 63, 0.6);
    }
  }
  
  /* Texto oculto para lectores de pantalla */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
  
  /* Responsive optimizado - Logo se ajusta automáticamente */
  @media (max-width: 768px) {
    .logo {
      /* MÓVIL: Usa la variable de tamaño móvil */
      --logo-size: var(--logo-mobile-size);
    }
    
    .navbar {
      flex-direction: column;
      gap: 1rem;
      padding: 0 1rem;
    }
    
    .nav-links {
      gap: 0.5rem;
      animation: fadeIn 0.8s ease-out 0.3s both;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    @keyframes fadeIn {
      from { 
        opacity: 0; 
        transform: translateY(20px);
      }
      to { 
        opacity: 1; 
        transform: translateY(0);
      }
    }
    
    .nav-brand h1 {
      font-size: 1.4rem;
    }
    
    .nav-links a {
      padding: 0.6rem 1rem;
      font-size: 0.9rem;
    }
    
    .nav-cart a {
      padding: 0.8rem 1.5rem;
      font-size: 0.9rem;
    }
    
    /* Mejora para touch devices */
    .nav-links a,
    .nav-cart a {
      min-height: 48px; /* Tamaño táctil recomendado */
    }
  }
  
  /* Reducción de movimiento para accesibilidad */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  
  /* Modo alto contraste */
  @media (prefers-contrast: high) {
    header {
      background: #000;
      border-bottom: 2px solid #fff;
    }
    
    .nav-links a,
    .nav-brand h1,
    .nav-cart a {
      color: #fff;
      background: #000;
    }
    
    .nav-links a:hover,
    .nav-cart a:hover {
      background: #fff;
      color: #000;
    }
  }
</style>

<!-- 
🚀 OPTIMIZACIONES SEO 2025 IMPLEMENTADAS:

✅ SEMANTIC HTML5:
- <header>, <nav>, <ul>, <li> semánticos
- Roles ARIA apropiados (banner, navigation, menubar)
- Microdata Schema.org integrado

✅ STRUCTURED DATA:
- Schema.org ClothingStore completo
- Datos de contacto y ubicación
- Catálogo de productos estructurado

✅ ACCESIBILIDAD (A11Y):
- aria-label y aria-current
- Focus visible optimizado
- Screen reader support (.sr-only)
- Tamaños táctiles mínimos (44px/48px)
- Soporte reduced-motion
- Alto contraste

✅ PERFORMANCE WEB VITALS:
- CLS optimizado (contain, dimensions)
- LCP mejorado (loading="eager")
- FID optimizado (will-change)
- transform3d para GPU

✅ SEO TÉCNICO:
- Alt text descriptivo y local
- Rel attributes apropiados
- Breadcrumb navigation ready
- Mobile-first responsive
- Core Web Vitals optimized

🎯 PRÓXIMOS PASOS RECOMENDADOS:
1. Agregar breadcrumbs en páginas internas
2. Implementar Open Graph meta tags
3. Configurar Google Analytics 4
4. Añadir sitemap.xml
5. Configurar robots.txt
6. Implementar PWA manifest
-->

<!-- INSTRUCCIONES DE USO:
1. Reemplaza "tudominio.com" con tu dominio real
2. Actualiza datos de contacto en structured data
3. Ajusta el aria-current="page" según la página actual
4. Personaliza colores manteniendo contraste WCAG
5. Testa con Google Rich Results Test
-->